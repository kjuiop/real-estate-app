<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">
<head>
    <style>
        /*#external-events {*/
        /*    position: fixed;*/
        /*    left: 20px;*/
        /*    top: 20px;*/
        /*    width: 150px;*/
        /*    padding: 0 10px;*/
        /*    border: 1px solid #ccc;*/
        /*    background: #eee;*/
        /*    text-align: left;*/
        /*}*/

        /*#external-events h4 {*/
        /*    font-size: 16px;*/
        /*    margin-top: 0;*/
        /*    padding-top: 1em;*/
        /*}*/

        /*#external-events .fc-event {*/
        /*    margin: 3px 0;*/
        /*    cursor: move;*/
        /*}*/

        /*#external-events p {*/
        /*    margin: 1.5em 0;*/
        /*    font-size: 11px;*/
        /*    color: #666;*/
        /*}*/

        /*#external-events p input {*/
        /*    margin: 0;*/
        /*    vertical-align: middle;*/
        /*}*/
    </style>
</head>
<body>
<div layout:fragment="content" th:with="YNType = ${T(io.gig.realestate.domain.common.YnType)}">
    <section class="content-header">
        <div class="container-fluid">
            <div class="row mb-2">
                <div class="col-md-6">
                    <h1>Calendar</h1>
                </div>
                <div class="col-md-6">
                    <ol class="breadcrumb float-sm-right">
                        <li class="breadcrumb-item"><a href="#">Home</a></li>
                        <li class="breadcrumb-item active">Calendar</li>
                    </ol>
                </div>
            </div>
        </div>
    </section>
    <section class="content">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-3">
                    <div class="sticky-top mb-3">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="card-title">Draggable Events</h4>
                            </div>
                            <div class="card-body">
<!--                                <div id='external-events-list'>-->
<!--                                    <div class='fc-event fc-h-event fc-daygrid-event fc-daygrid-block-event'>-->
<!--                                        <div class='fc-event-main'>My Event 1</div>-->
<!--                                    </div>-->
<!--                                    <div class='fc-event fc-h-event fc-daygrid-event fc-daygrid-block-event'>-->
<!--                                        <div class='fc-event-main'>My Event 2</div>-->
<!--                                    </div>-->
<!--                                    <div class='fc-event fc-h-event fc-daygrid-event fc-daygrid-block-event'>-->
<!--                                        <div class='fc-event-main'>My Event 3</div>-->
<!--                                    </div>-->
<!--                                    <div class='fc-event fc-h-event fc-daygrid-event fc-daygrid-block-event'>-->
<!--                                        <div class='fc-event-main'>My Event 4</div>-->
<!--                                    </div>-->
<!--                                    <div class='fc-event fc-h-event fc-daygrid-event fc-daygrid-block-event'>-->
<!--                                        <div class='fc-event-main'>My Event 5</div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                                <p>-->
<!--                                    <input type='checkbox' id='drop-remove' />-->
<!--                                    <label for='drop-remove'>remove after drop</label>-->
<!--                                </p>-->

                                <div id="external-events-list">
                                    <div class="fc-event external-event ui-draggable ui-draggable-handle" style="background-color: rgb(25, 105, 44); border-color: rgb(25, 105, 44); color: rgb(255, 255, 255); position: relative; z-index: auto; left: 0px; top: 0px;">tset</div>
                                    <div class="fc-event external-event bg-success ui-draggable ui-draggable-handle" style="position: relative;">Lunch</div>
                                    <div class="fc-event external-event bg-warning ui-draggable ui-draggable-handle" style="position: relative;">Go home</div>
                                    <div class="fc-event external-event bg-info ui-draggable ui-draggable-handle" style="position: relative; z-index: auto; left: 0px; top: 0px;">Do homework</div>
                                    <div class="fc-event external-event bg-primary ui-draggable ui-draggable-handle" style="position: relative;">Work on UI design</div>
                                    <div class="fc-event external-event bg-danger ui-draggable ui-draggable-handle" style="position: relative;">Sleep tight</div>
                                    <div class="checkbox">
                                        <label for="drop-remove">
                                            <input type="checkbox" id="drop-remove">
                                            remove after drop
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Create Event</h3>
                            </div>
                            <div class="card-body">
                                <div class="btn-group" style="width: 100%; margin-bottom: 10px;">
                                    <ul class="fc-color-picker" id="color-chooser">
                                        <li><a class="text-primary" href="#"><i class="fa fa-square"></i></a></li>
                                        <li><a class="text-warning" href="#"><i class="fa fa-square"></i></a></li>
                                        <li><a class="text-success" href="#"><i class="fa fa-square"></i></a></li>
                                        <li><a class="text-danger" href="#"><i class="fa fa-square"></i></a></li>
                                        <li><a class="text-muted" href="#"><i class="fa fa-square"></i></a></li>
                                    </ul>
                                </div>
                                <div class="input-group">
                                    <input id="new-event" type="text" class="form-control" placeholder="Event Title">
                                    <div class="input-group-append">
                                        <button id="add-new-event" type="button" class="btn btn-primary" style="background-color: rgb(25, 105, 44); border-color: rgb(25, 105, 44);">Add</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-9">
                    <div id="calendar"></div>
                </div>
            </div>
        </div>
    </section>
</div>
<section layout:fragment="script">
    <script>
        document.addEventListener('DOMContentLoaded', function() {

            var containerEl = document.getElementById('external-events-list');
            new FullCalendar.Draggable(containerEl, {
                itemSelector: '.fc-event',
                eventData: function(eventEl) {
                    return {
                        title: eventEl.innerText.trim()
                    }
                }
            });


            let calendarEl = document.getElementById('calendar');
            let calendar = new FullCalendar.Calendar(calendarEl, {
                headerToolbar: {
                    left: 'prev,next today',
                    center: 'title',
                    right: 'dayGridMonth,timeGridWeek,timeGridDay,listMonth'
                },
                initialDate: '2024-04-14',
                navLinks: true, // can click day/week names to navigate views
                businessHours: true, // display business hours
                editable: true,
                selectable: true,
                droppable: true,
                events: [
                    {
                        title: 'Business Lunch',
                        start: '2023-01-03T13:00:00',
                        constraint: 'businessHours'
                    },
                    {
                        title: 'Meeting',
                        start: '2023-01-13T11:00:00',
                        constraint: 'availableForMeeting', // defined below
                        color: '#257e4a'
                    },
                    {
                        title: 'Conference',
                        start: '2023-01-18',
                        end: '2023-01-20'
                    },
                    {
                        title: 'Party',
                        start: '2023-01-29T20:00:00'
                    },

                    // areas where "Meeting" must be dropped
                    {
                        groupId: 'availableForMeeting',
                        start: '2023-01-11T10:00:00',
                        end: '2023-01-11T16:00:00',
                        display: 'background'
                    },
                    {
                        groupId: 'availableForMeeting',
                        start: '2023-01-13T10:00:00',
                        end: '2023-01-13T16:00:00',
                        display: 'background'
                    },

                    // red areas where no events can be dropped
                    {
                        start: '2023-01-24',
                        end: '2023-01-28',
                        overlap: false,
                        display: 'background',
                        color: '#ff9f89'
                    },
                    {
                        start: '2023-01-06',
                        end: '2023-01-08',
                        overlap: false,
                        display: 'background',
                        color: '#ff9f89'
                    }
                ]
            });

            calendar.render();
        });

        // document.addEventListener('DOMContentLoaded', function() {
        //     let calendarEl = document.getElementById('calendar');
        //     let calendar = new FullCalendar.Calendar(calendarEl, {
        //         // Configure FullCalendar options here
        //         plugins: ['dayGrid']
        //     });
        //     calendar.render();
        // });
    </script>
<!--    <script src="/static/js/index/index.js" th:src="@{/js/index/index.js}"></script>-->
</section>
</body>
</html>
