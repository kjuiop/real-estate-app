<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>

    <title>한신</title>

    <link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR:300,400,500&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/node_modules/icheck-bootstrap/icheck-bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="/node_modules/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="/node_modules/bootstrap-daterangepicker/daterangepicker.css">
    <link rel="stylesheet" type="text/css" href="/node_modules/font-awesome/css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css" href="/node_modules/@yaireo/tagify/dist/tagify.css" />
    <link rel="stylesheet" type="text/css" href="/node_modules/summernote/dist/summernote-bs4.min.css" />
    <link rel="stylesheet" type="text/css" href="/node_modules/admin-lte/dist/css/adminlte.css">
    <link rel="stylesheet" type="text/css" href="/node_modules/icheck/skins/all.css">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

    <link rel="stylesheet" href="/css/common.css" />

    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
    <link rel="manifest" href="/images/site.webmanifest">
</head>
<body class="sidebar-collapse">
<div class="wrapper">
    <div th:with="isModify = ${dto.realEstateId != null}">
        <nav class="main-header navbar navbar-expand navbar-white navbar-light">
            <!-- Left navbar links -->
            <ul class="navbar-nav">
                <li class="nav-item d-none d-sm-inline-block">
                    <a href="/" class="nav-link">Home</a>
                </li>
                <li class="nav-item d-none d-sm-inline-block" th:if="${isModify}">
                    <a th:href="|/real-estate/${dto.realEstateId}/edit|" class="nav-link basicLink">매물기본정보</a>
                </li>
                <li class="nav-item d-none d-sm-inline-block" th:if="${isModify}">
                    <a th:href="|/real-estate/revenue/${dto.realEstateId}/edit|" class="nav-link revenueLink">수익률</a>
                </li>
            </ul>
            <ul class="navbar-nav ml-auto">
                <li class="nav-item dropdown">
                    <a class="nav-link" data-toggle="dropdown" href="#" aria-expanded="false">
                        <i class="fa fa-bell"></i>
                        <span class="badge badge-warning navbar-badge notiCnt" th:classappend="${notiCnt == 0 ? 'hidden' : ''}">[[${notiCnt}]]</span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right" style="left: inherit; right: 0;">
                    <span class="dropdown-item dropdown-header font-size-12">
                        <span class="notiBannerCnt">[[${notiCnt}]]</span> 개의 읽지 않은 알림
                    </span>
                        <div class="dropdown-divider"></div>
                        <div style="max-height: 400px; overflow-y: auto;">
                            <th:block th:each="noti : ${notifications}">
                                <a class="dropdown-item noti-move" th:returnUrl="${noti.returnUrl}" style="white-space: normal; display: flex; padding: 12px 5px 12px 10px;">
                                    <div class="col-md-1 no-left-padding">
                                        <input type="checkbox" class="checkElement checkNotiRead" th:checked="${noti.readYn.key eq 'Y'}" style="margin-top: 2px;" th:notiId="${noti.notificationId}"/>
                                    </div>
                                    <div class="col-md-9 font-size-12" style="width: 190px; word-break: break-all; padding-left: 10px; display: table;">
                                        <div style="display: table-cell; vertical-align: middle;">
                                            [[${noti.message}]]
                                        </div>
                                    </div>
                                    <div class="col-md-2 float-right text-muted" style="padding: 5px 0 0;font-size: 12px !important;">
                                        [[${noti.afterPass}]]
                                    </div>
                                </a>
                            </th:block>
                        </div>
                        <div class="dropdown-divider"></div>
                    </div>
                </li>

                <li class="nav-item dropdown">
                    <a class="nav-link" data-toggle="dropdown" href="#" aria-expanded="false">
                        <i class="fa fa-user"></i>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right" style="left: inherit; right: 0;">
                        <a href="/mypage" class="nav-link font-size-12 text-alien-center" style="padding: 0 10px; height: 20px;">마이페이지</a>
                        <div class="dropdown-divider"></div>
                        <a href="/logout" class="nav-link font-size-12 text-alien-center" style="padding: 0 10px; height: 20px;">로그아웃</a>
                    </div>
                </li>
            </ul>
        </nav>
    </div>
    <div class="content-wrapper">
        <div layout:fragment="content" th:remove="tag"></div>
    </div>

    <footer class="main-footer">
        <strong>Copyright © 2024 <a href="#">HS REALTY Company</a>.</strong> All rights reserved.
    </footer>
</div>
<div class="modal fade show" id="commonModal" aria-modal="true" style="padding-right: 17px; display: none;">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 id="commonModalTitle" class="modal-title">Alert</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <div id="commonModalContent"></div>
            </div>
            <div class="modal-footer justify-content-between">
                <button type="button" class="btn btn-default commonModalClose" data-dismiss="modal">Close</button>
                <button type="button" id="commonModalConfirm" class="btn btn-primary float-right">Save</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>

<script src="/node_modules/jquery/dist/jquery.min.js"></script>
<script src="/node_modules/jquery-form/dist/jquery.form.min.js"></script>
<script src="/node_modules/jquery-ui-dist/jquery-ui.min.js"></script>
<script src="/node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="/node_modules/jdenticon/dist/jdenticon.min.js"></script>
<script src="/node_modules/admin-lte/dist/js/adminlte.min.js"></script>
<script src="/node_modules/bootstrap-daterangepicker/moment.min.js"></script>
<script src="/node_modules/bootstrap-daterangepicker/daterangepicker.js"></script>
<script src="/node_modules/js-sha512/src/sha512.js"></script>
<script src="/node_modules/icheck/icheck.min.js"></script>
<script src="/node_modules/moment/min/moment-with-locales.min.js"></script>

<script src="/custom-modules/bpopup/jquery.bpopup.js"></script>

<script src="/js/common/spin.js"></script>
<script src="/js/common/attachment.js"></script>
<script src="/js/common/modal.js"></script>
<script src="/js/common/validate-common.js"></script>
<script src="/js/common/util.js"></script>

<script>

    const csrfToken = $("meta[name='_csrf']").attr("content");
    const csrfHeader = $("meta[name='_csrf_header']").attr("content");

    $.ajaxSetup({
        dataType: "json",
        beforeSend: function() {
            $("body").spin("modal");
        },
        complete: function() {
            $("body").spin("modal");
        },
        error: function(jqxhr, textStatus, errorThrown) {
        }
    });

    $(document).ajaxSend(function(e, xhr, options) {
        xhr.setRequestHeader(csrfHeader, csrfToken);
    });

    $(function() {
        initICheck();
    });

    const initICheck = function() {
        $('input[type="checkbox"], input[type="radio"]').iCheck({
            checkboxClass: 'icheckbox_square-blue',
            radioClass: 'iradio_flat-blue'
        });
    };
</script>
<section layout:fragment="script">
</section>
</body>
</html>
